@use 'sass:math';

@mixin ratio($width, $height) {
	position: relative;
	max-width: rem($width);
	max-height: rem($height);
	font-size: 0;

	&:after {
		content: '';
		display: inline-block;
		width: 100%;
		padding-top: math.div($height, $width) * 100%;
	}

	img {
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		// object-fit: cover;
	}
}

@mixin line-clamp($lines) {
	display: -webkit-box;
	-webkit-box-orient: vertical;
	-webkit-line-clamp: #{$lines};
	overflow: hidden;
	text-overflow: ellipsis;
}

@mixin sequential-delay( $length, $delayAmount: 100ms, $child: '', $addedDelay: 0s) {
	@for $x from 1 through $length {
		&:nth-child( #{ $x } ) #{ $child } {
			transition-delay: #{ ( $x - 1 ) * $delayAmount + $addedDelay };
		}
	}

	&:nth-child( n + #{ $length + 1 } ) {
		transition-delay: #{ $delayAmount * $length };
	}
}

@mixin flex($justify, $align, $wrap) {
	display: flex;
	justify-content: $justify;
	align-items: $align;
	flex-wrap: $wrap;
}

@mixin marquee($duration: 20s, $direction: 'left', $value: 50%) {
	@keyframes marquee {
		to {
			@if $direction=='left' {
				transform: translateX((-$value));
			}

			@else {
				transform: translateX($value);
			}
		}
	}

	animation-name: marquee;
	animation-duration: $duration;
	animation-timing-function: linear;
	animation-iteration-count: infinite;
	white-space: nowrap;
}

@mixin player($range-color, $timestamp-color) {
	width: inherit;

	input[type='range'] {
		-webkit-appearance: none;
		appearance: none;
		width: inherit;
		height: rem(4);
		margin-right: rem(15);
		background: fade-out($light, 0.5);
		border-radius: rem(5);
		background-image: linear-gradient($range-color, $range-color);
		background-size: 50% 100%;
		background-repeat: no-repeat;

		&::-webkit-slider-thumb {
			-webkit-appearance: none;
			height: rem(16);
			width: rem(16);
			border-radius: 50%;
			background: $range-color;
			cursor: ew-resize;
		}
	}

	.timestamp {
		display: flex;
		justify-content: space-between;
		align-items: flex-start;
		color: $timestamp-color;
		font-size: fluid(12, 14);
	}
}